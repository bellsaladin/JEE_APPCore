<ui:composition 
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:pe="http://primefaces.org/ui/extensions"
	xmlns:t="http://myfaces.apache.org/tomahawk"
	xmlns:c="http://java.sun.com/jstl/core"
	xmlns:of="http://omnifaces.org/functions">
	
	<!--  Include of configuration -->
	<!-- 	<ui:include src="../_config.xhtml" /> -->
	
    <ui:param name="entityName" value="depot" />
    <ui:param name="entityNameCapitalized" value="#{of:capitalize(entityName)}" />
	
	
	<!--  Dialog definition -->
	<p:dialog header="#{entityNameCapitalized}" id="dialog#{entityNameCapitalized}" widgetVar="dialog#{entityNameCapitalized}" style="min-width:700px;" resizable="false" modal="true" appendToBody="true">   
	   	<h:form id="dialogForm#{entityNameCapitalized}">     
	        
	        <p:fieldset style="margin-bottom:20px">
					  <p:panelGrid columns="2" styleClass="no-border-table">
					  		<h:outputLabel value="Code : *" />
				          	<p:inputText 
				               value="#{core.bean(entityName).object.code}" required="true">  
				               <f:validateLength minimum="2" />  
				           </p:inputText>
				           
				           <h:outputLabel value="Intiiales : *" />
				          	<p:inputText 
				               value="#{core.bean(entityName).object.initiales}"/>
				           
				           <h:outputLabel value="Designation : *" />
				          	<p:inputText 
				               value="#{core.bean(entityName).object.designation}" required="true">  
				               <f:validateLength minimum="2" />  
				           </p:inputText>
					  </p:panelGrid>
					  <p:selectBooleanCheckbox value="#{core.bean(entityName).object.pasControleStock}" itemLabel="Pas de controle de stock pour ce dépôt"/>
				</p:fieldset>
				<p:fieldset legend="Adresse" style="margin-bottom:20px">
					 <h:panelGrid columns="2" cellpadding="5">
	       				   <h:outputLabel value=" Adresse : *" />
				           <p:inputText id="adresseLigne1" value="#{core.bean(entityName).object.adresseLigne1}" size="50"/>
				           <h:outputLabel value="" />
				           <p:inputText id="adresseigne2" value="#{core.bean(entityName).object.adresseLigne2}" size="50"/>
			           	   <h:outputLabel value="Code postal : *" />
				           <p:inputText id="adresseCodePostal" value="#{core.bean(entityName).object.adresseCodePostal}" size="50"/>
			           	   <h:outputLabel value="" />
			           	   <h:panelGrid columns="2">
				           	   <p:selectOneMenu id="adressePays" widgetVar="adressePaysVar" value="#{core.bean(entityName).object.adressePays}" filter="true" filterMatchMode="startsWith"
	    										style="width:134px">      	    
						        	<f:selectItem itemLabel="Maroc" itemValue="MA" />
						        	<f:selectItem itemLabel="France" itemValue="FR" />
						        	<f:selectItem itemLabel="Etats Unis d'amérique" itemValue="USA" />
						       </p:selectOneMenu>
						       <p:selectOneMenu id="adresseVille" widgetVar="adresseVilleVar" value="#{core.bean(entityName).object.adresseVille}" converter="omnifaces.SelectItemsConverter" filter="true" filterMatchMode="startsWith"
	    										style="width:134px">      	    
						        	<f:selectItem itemLabel="Rabat" itemValue="rabat" />
						        	<f:selectItem itemLabel="Paris" itemValue="paris" />
						        	<f:selectItem itemLabel="New York" itemValue="new york" />
						       </p:selectOneMenu>
			           	   </h:panelGrid>
			           	   <h:outputLabel value="Téléphone : *" />
				           <p:inputText id="adresseTelephone" value="#{core.bean(entityName).object.adresseTelephone}" size="50"/>
			           	   <h:outputLabel value="Fax : *" />
				           <p:inputText id="adresseFax" value="#{core.bean(entityName).object.adresseFax}" size="50"/>
			           	   <h:outputLabel value="Mobile : *" />
				           <p:inputText id="adresseMobile" value="#{core.bean(entityName).object.adresseMobile}" size="50"/>
			           	   <h:outputLabel value="Email : *" />
				           <p:inputText id="adresseEmail" value="#{core.bean(entityName).object.adresseEmail}" size="50" />  
		       		  </h:panelGrid>
				</p:fieldset> 
	  		<p:commandButton value="Enregistrer" actionListener="#{core.bean(entityName).runAction('persist')}" update=":dialog#{entityNameCapitalized}" process=":dialog#{entityNameCapitalized}" oncomplete="PF('dialog#{entityNameCapitalized}').hide()" styleClass="ui-whiteBtn" />
	  		<div><small>Note : La sauvegarde est conservée même si vous ne validez pas la sauvegarde du formulaire principal (<h:outputText value="#{core.bean(entityName).moduleName}" />)</small></div>
		</h:form>
	</p:dialog>  	
</ui:composition>
