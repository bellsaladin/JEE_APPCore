<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:p="http://primefaces.org/ui"
                xmlns:c="http://java.sun.com/jsp/jstl/core"
                xmlns:seosoft="http://java.sun.com/jsf/composite/components"
                template="/design1/_general/template.xhtml">

    <ui:define name="head">        
        <script type="text/javascript">
            //<![CDATA[
                function handleMessage(facesmessage) {
                    facesmessage.severity = 'info';
                    
                    PF('growl').show([facesmessage]);
                }
            //]]> 
        </script>
    </ui:define>
    
    <ui:define name="title">
        Article
    </ui:define>

    <ui:define name="description">
        Création d'un nouvel article
    </ui:define>
	
    <ui:define name="implementation">
    
	  <div style="padding:30px">
			<p:panelGrid  columns="2"  styleClass="no-border-table full-width panelTopAlign">
	    		<p:panelGrid  columns="2">
	    			<h:outputLabel value="Article :" />
	    			<h:outputLabel value="#{core.bean().object.article.libelle}"/>
	    		</p:panelGrid>	
	    		<p:panelGrid  columns="2">
	    			<h:outputLabel value="Dépôt :" />
	    			<h:outputLabel value="#{core.bean().object.depot.designation}"/>
	    		</p:panelGrid>
	    		<h:panelGroup>
		    		<p:fieldset legend="Entrées">
		    			<p:panelGrid  columns="2">
			    			<h:outputLabel value="Quantité entrée :" />
						    <p:inputText disabled="true" value="#{core.bean().object.qteEntree}"/>
						    
						    <h:outputLabel value="P.M.P.A :" />
						    <p:inputText disabled="true" value="#{core.bean().object.prixMoyenPondereAchat}"/>
						    
						    <h:outputLabel value="Derniere entrée le :" />
						    <p:inputText disabled="true" value="#{core.bean().object.dateDerniereEntree}"/>
						    
						    <h:outputLabel value="Dernier P.U.H.T. :" />
						    <p:inputText disabled="true" value="#{core.bean().object.dernierPrixUnitaireHTAchat}"/>
					    </p:panelGrid>
		    		</p:fieldset>
		    		<p:fieldset legend="Sorties">
		    			<p:panelGrid  columns="2">
			    			<h:outputLabel value="Quantité sortie :" />
						    <p:inputText disabled="true" value="#{core.bean().object.qteSortie}"/>
						    
						    <h:outputLabel value="P.M.P.V :" />
						    <p:inputText disabled="true" value="#{core.bean().object.prixMoyenPondereVente}"/>
						    
						    <h:outputLabel value="Derniere sortie le :" />
						    <p:inputText disabled="true" value="#{core.bean().object.dateDerniereSortie}"/>
						    
						    <h:outputLabel value="Dernier P.U.H.T. :" />
						    <p:inputText disabled="true" value="#{core.bean().object.dernierPrixUnitaireHTVente}"/>
						</p:panelGrid>
		    		</p:fieldset>
	    		</h:panelGroup>
	    		<p:fieldset legend="Quantites">
		    			<p:panelGrid  columns="2">
			    			<h:outputLabel value="Quantité intiale :" />
						    <p:inputText disabled="true" value="#{core.bean().object.qteInitiale}"/>
						    
						    <h:outputLabel value="Stock réel :" style="font-weight:bold"/>
						    <p:inputText disabled="true" value="#{core.bean().object.stockReel}"/>
						    
						    <h:outputLabel value="Quantité en réception :" />
						    <p:inputText disabled="true" value="#{core.bean().object.qteEnReception}"/>
						    
						    <h:outputLabel value="Quantité à livrer :" />
						    <p:inputText disabled="true" value="#{core.bean().object.qteALivrer}"/>
						    
						    <h:outputLabel value="Quantité disponible :"  style="font-weight:bold"/>
						    <p:inputText disabled="true" value="#{core.bean().object.stockDisponible}"/>
						    
						    <h:outputLabel value="Quantité à recevoir :" />
						    <p:inputText disabled="true" value="#{core.bean().object.qteARecevoir}"/>
						    
						    <h:outputLabel value="Quantité reservée :" />
						    <p:inputText disabled="true" value="#{core.bean().object.qteReservee}"/>
						    
						    <h:outputLabel value="Stock virtuel :"  style="font-weight:bold"/>
						    <p:inputText disabled="true" value="#{core.bean().object.stockVirtuel}"/>
						</p:panelGrid>
		    	</p:fieldset>
	    	</p:panelGrid>       	
      </div>
    </ui:define>
    
	<ui:define name="actions">	
		<p:commandButton value="Enregistrer" actionListener="#{core.bean().runAction('persist')}" update="mainForm" process="mainForm" styleClass="ui-whiteBtn" />
		<p:button value="Retour" href="/design1/ui/#{core.bean().moduleName}/list" styleClass="ui-whiteBtn pull-right"/>
		<!-- <p:commandButton value="Vider" actionListener="#{notifyView.send}" styleClass="ui-whiteBtn pull-right" style="margin-right:10px;"/> -->
		<p:commandButton value="Supprimer" rendered="#{core.bean().paramId != null }" actionListener="#{core.bean().runAction('delete')}" update=":mainForm" styleClass="ui-whiteBtn" />
		<p:outputPanel rendered="#{core.bean().paramId != null }" style="display:inline;" styleClass="pull-right">			
			<span style="margin-right:10px;"><p:outputLabel value="#{core.bean().list.indexOf(core.bean().object) + 1}"/> / <p:outputLabel value="#{core.bean().list.size()}"/></span>
			<p:commandButton value="&lt;" actionListener="#{core.bean().runAction('getPrevious')}" update=":mainForm" process="@this" styleClass="ui-whiteBtn" style="margin-right:10px;"/>
			<p:commandButton value="&gt;" actionListener="#{core.bean().runAction('getNext')}" update=":mainForm" process="@this" styleClass="ui-whiteBtn" style="margin-right:10px;"/>
		</p:outputPanel>
	</ui:define>
	
	<ui:define name="dialogs">
		   
	</ui:define>
	
</ui:composition>
