<ui:composition 
	xmlns="http://www.w3.org/1999/xhtml" 
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core" 
	xmlns:h="http://java.sun.com/jsf/html" 
	xmlns:p="http://primefaces.org/ui"
	xmlns:pe="http://primefaces.org/ui/extensions" 
	xmlns:t="http://myfaces.apache.org/tomahawk" 
	xmlns:c="http://java.sun.com/jstl/core"
    template="/design1/_general/template.xhtml">
	
	<ui:include src="../_config.xhtml" />
	
    <ui:define name="head">        
        <script type="text/javascript">
            //<![CDATA[
                function handleMessage(facesmessage) {
                    facesmessage.severity = 'info';
                    
                    PF('growl').show([facesmessage]);
                }
            //]]> 
        </script>
    </ui:define>
	
    <ui:define name="implementation">
	  <div style="padding:30px">
<!--        	<p:messages id="messages" />  -->
       	<p:tabView scrollable="true">
       		<p:tab title="Généralités">
       			<p:panelGrid styleClass="no-border-table full-width panelTopAlign">
	        		<p:row>
	        			<p:column >
	        				<p:fieldset legend="Informations société" style="margin-bottom:20px">
	        					<h:panelGrid columns="2" cellpadding="5">
							        <h:panelGroup id="imageUploadFragment">
			                     		<p:graphicImage id="image" name="images/societe/#{core.bean().object.imageSrc}" width="100" height="100"/>
			                     		<p:fileUpload fileUploadListener="#{core.bean().handleFileUpload}" mode="advanced" 
			                     		update="image" process="@this" auto="true" multiple="false" sizeLimit="10000000" allowTypes="/(\.|\/)(gif|jpe?g|png)$/" value="choisir" />
			                     	</h:panelGroup>
			                     	<h:panelGrid columns="2" cellpadding="5">
								        <h:outputLabel value="Raison sociale : *" />
								        <p:inputText id="raisonSociale"   
								               value="#{core.bean().object.raisonSociale}" required="true" label="Raison sociale :">  
								               <f:validateLength minimum="2" />  
								        </p:inputText>
<!-- 								        <h:outputLabel value="Image : *" /> -->
<!-- 								        <p:inputText     -->
<!-- 								               value="#{core.bean().object.imageSrc}" required="true" label="Image :">   -->
<!-- 								        </p:inputText> -->
							        </h:panelGrid>
	        					</h:panelGrid>
					        </p:fieldset>
	        				<p:fieldset legend="Informations juridiques" style="margin-bottom:20px">
						        <h:panelGrid columns="2" cellpadding="5">
						            <h:outputLabel value="Statut : *" />
						            <p:inputText id="statut" value="#{core.bean().object.statut}" required="true" size="50">  
						               <f:validateLength minimum="10" />  
						           </p:inputText>
						           <h:outputLabel value="Capital" />
						           <p:inputText id="capital" value="#{core.bean().object.capital}" required="true" size="50">  
					           	   </p:inputText>
					           	   <h:outputLabel value="Patente : *" />
						           <p:inputText id="patente" value="#{core.bean().object.patente}" required="true" size="50">  
					           	   </p:inputText>
					           	   <h:outputLabel value="CNSS : *" />
						           <p:inputText id="cnss" value="#{core.bean().object.cnss}" required="true" size="50">  
					           	   </p:inputText>
						        </h:panelGrid>
						    </p:fieldset>
	        			</p:column>
	        			<p:column>
	        				<p:fieldset legend="Adresse" style="margin-bottom:20px">
						        <h:panelGrid columns="2" cellpadding="5">
						            <h:outputLabel value=" Adresse : *" />
						            <p:inputText id="adresseLigne1" value="#{core.bean().object.adresseLigne1}" required="true" size="50">  
						               <f:validateLength minimum="10" />  
						           </p:inputText>
						           <h:outputLabel value="" />
						           <p:inputText id="adresseLigne2" value="#{core.bean().object.adresseLigne2}" size="50">  
					           	   </p:inputText>
					           	   <h:outputLabel value="Code postal : *" />
						           <p:inputText id="codePostal" value="#{core.bean().object.codePostal}" required="true" size="50">
					           	   </p:inputText>
					           	   <h:outputLabel value="" />
					           	   <h:panelGrid columns="2">
						           	   <p:inputText id="pays" value="#{core.bean().object.pays}" required="true" size="21">  
						               		
						           	   </p:inputText>
						           	   <p:inputText id="ville" value="#{core.bean().object.ville}" required="true" size="21">  
						               		  
						           	   </p:inputText>
					           	   </h:panelGrid>
					           	   <h:outputLabel value="Téléphone : *" />
						           <p:inputText id="telephone" value="#{core.bean().object.telephone}" required="true" size="50">  
					               		<f:validateLength minimum="10" />  
					           	   </p:inputText>
					           	   <h:outputLabel value="Fax : *" />
						           <p:inputText id="fax" value="#{core.bean().object.fax}" required="true" size="50">  
					               		<f:validateLength minimum="10" />  
					           	   </p:inputText>
					           	   <h:outputLabel value="Mobile : *" />
						           <p:inputText id="mobile" value="#{core.bean().object.mobile}" required="true" size="50">  
					           	   </p:inputText>
					           	   <h:outputLabel value="Email : *" />
						           <p:inputText id="email" value="#{core.bean().object.email}" required="true" size="50">  
					               		<f:validateLength minimum="6" />  
					           	   </p:inputText>
					           	   <h:outputLabel value="Siteweb : *" />
						           <p:inputText id="siteweb" value="#{core.bean().object.siteweb}" required="true" size="50">  
					               		<f:validateLength minimum="6" />  
					           	   </p:inputText>
						        </h:panelGrid>
						    </p:fieldset>
	        			</p:column>
	        		</p:row>			        			      
	       		</p:panelGrid>	
       		</p:tab>
       		<p:tab title="Options">
       		</p:tab>
       		<p:tab title="Impression">
       			<h:panelGrid columns="2" cellpadding="5" style="margin:0 auto">
       				<p:fieldset legend="Visibilite">
		       			<h:panelGrid columns="7" cellpadding="5">
							<h:outputLabel value=" DOCUMENT" />
							<h:outputLabel value=" ENTETE" />
							<h:outputLabel value=" PIED" />
							<h:outputLabel value=" LOGO " />
							<h:outputLabel value=" MARQUE " />
							<h:outputLabel value=" APPELATION" />
							<h:outputLabel value=" REREFENCE" />
							
							<h:outputLabel value=" Devis" />
							<p:selectBooleanCheckbox value="#{core.bean().object.enteteVisibleEnDevis}" />
							<p:selectBooleanCheckbox value="#{core.bean().object.piedVisibleEnDevis}" />
							<p:selectBooleanCheckbox value="#{core.bean().object.logoVisibleEnDevis}" />
							<p:selectBooleanCheckbox value="#{core.bean().object.marqueVisibleEnDevis}" />
							<p:selectBooleanCheckbox value="#{core.bean().object.appelationVisibleEnDevis}" />
							<p:selectBooleanCheckbox value="#{core.bean().object.referenceVisibleEnDevis}" />
							
							
							<h:outputLabel value=" Bon de commande" />
							<p:selectBooleanCheckbox value="#{core.bean().object.enteteVisibleEnBonCommande}" />
							<p:selectBooleanCheckbox value="#{core.bean().object.piedVisibleEnBonCommande}" />
							<p:selectBooleanCheckbox value="#{core.bean().object.logoVisibleEnBonCommande}" />
							<p:selectBooleanCheckbox value="#{core.bean().object.marqueVisibleEnBonCommande}" />
							<p:selectBooleanCheckbox value="#{core.bean().object.appelationVisibleEnBonCommande}" />
							<p:selectBooleanCheckbox value="#{core.bean().object.referenceVisibleEnBonCommande}" />
							
							<h:outputLabel value=" Bon de livraison" />
							<p:selectBooleanCheckbox value="#{core.bean().object.enteteVisibleBonLivraison}" />
							<p:selectBooleanCheckbox value="#{core.bean().object.piedVisibleBonLivraison}" />
							<p:selectBooleanCheckbox value="#{core.bean().object.logoVisibleBonLivraison}" />
							<p:selectBooleanCheckbox value="#{core.bean().object.marqueVisibleBonLivraison}" />
							<p:selectBooleanCheckbox value="#{core.bean().object.appelationVisibleBonLivraison}" />
							<p:selectBooleanCheckbox value="#{core.bean().object.referenceVisibleBonLivraison}" />
							
							<h:outputLabel value=" Bon de reception" />
							<p:selectBooleanCheckbox value="#{core.bean().object.enteteVisibleBonReception}" />
							<p:selectBooleanCheckbox value="#{core.bean().object.piedVisibleBonReception}" />
							<p:selectBooleanCheckbox value="#{core.bean().object.logoVisibleBonReception}" />
							<p:selectBooleanCheckbox value="#{core.bean().object.marqueVisibleBonReception}" />
							<p:selectBooleanCheckbox value="#{core.bean().object.appelationVisibleBonReception}" />
							<p:selectBooleanCheckbox value="#{core.bean().object.referenceVisibleBonReception}" />
							
							<h:outputLabel value=" Facture" />
							<p:selectBooleanCheckbox value="#{core.bean().object.enteteVisibleFacture}" />
							<p:selectBooleanCheckbox value="#{core.bean().object.piedVisibleFacture}" />
							<p:selectBooleanCheckbox value="#{core.bean().object.logoVisibleFacture}" />
							<p:selectBooleanCheckbox value="#{core.bean().object.marqueVisibleFacture}" />
							<p:selectBooleanCheckbox value="#{core.bean().object.appelationVisibleFacture}" />
							<p:selectBooleanCheckbox value="#{core.bean().object.referenceVisibleFacture}" />
							
							<h:outputLabel value=" Avoir" />
							<p:selectBooleanCheckbox value="#{core.bean().object.enteteVisibleAvoir}" />
							<p:selectBooleanCheckbox value="#{core.bean().object.piedVisibleAvoir}" />
							<p:selectBooleanCheckbox value="#{core.bean().object.logoVisibleAvoir}" />
							<p:selectBooleanCheckbox value="#{core.bean().object.marqueVisibleAvoir}" />
							<p:selectBooleanCheckbox value="#{core.bean().object.appelationVisibleAvoir}" />
							<p:selectBooleanCheckbox value="#{core.bean().object.referenceVisibleAvoir}" />
							
						</h:panelGrid>
						<p:inputTextarea rows="8" cols="140"  value="#{core.bean().object.observationsImpression}" placeholder="Observations"/>
					</p:fieldset>
					<h:panelGroup>
						<p:fieldset legend="Entete">
								<p:editor value="#{core.bean().object.enteteRTF}" width="400" height="130"/>
							</p:fieldset>
							<p:fieldset legend="Pied">
								<p:editor value="#{core.bean().object.piedRTF}" width="400" height="130" />
							</p:fieldset>
					</h:panelGroup>
				</h:panelGrid>
				
       		</p:tab>
       		<p:tab title="Analytique">
       			<p:tabView>
       				<p:tab title="Chaine des ventes">
		       			<p:fieldset legend="Dossier" style="margin-bottom:30px">
		       				<p:selectOneRadio value="#{core.bean().object.chaineVentesDossier}"  layout="grid" columns="1">
					            <f:selectItem itemLabel="En attente" itemValue="EN_ATTENTE" />
					            <f:selectItem itemLabel="Saisie de dossier dans les ENTETES des documents de vente" itemValue="ENTETES" />
					            <f:selectItem itemLabel="Saisie de dossier dans les LIGNES des documents de vente" itemValue="LIGNES" />
					        </p:selectOneRadio>
		       			</p:fieldset>
		       			
		       			<p:fieldset legend="Saisi du code de Dossier"  style="margin-bottom:30px">
		       				<p:selectOneRadio value="#{core.bean().object.chaineVentesSaisieCodeDossier}"  layout="grid" columns="2">
					            <f:selectItem itemLabel="Saisie à partir des Devis" itemValue="DEVIS" />
					            <f:selectItem itemLabel="Saisie à partir des B.C" itemValue="BC" />
					            <f:selectItem itemLabel="Saisie à partir des B.L" itemValue="BL" />
					            <f:selectItem itemLabel="Saisie à partir des Factures" itemValue="FACTURES" />
					        </p:selectOneRadio>
		       			</p:fieldset>
		       			
		       			<p:fieldset legend="Contrôle du code de Dossier">
		       				<p:selectOneRadio value="#{core.bean().object.chaineVentesControleCodeDossier}"  layout="grid" columns="2">
					            <f:selectItem itemLabel="Contrôle à partir des Devis" itemValue="DEVIS" />
					            <f:selectItem itemLabel="Contrôle à partir des B.C" itemValue="BC" />
					            <f:selectItem itemLabel="Contrôle à partir des B.L" itemValue="BL" />
					            <f:selectItem itemLabel="Contrôle à partir des Factures" itemValue="FACTURES" />
					        </p:selectOneRadio>
		       			</p:fieldset>
       				</p:tab>
       				<p:tab title="Chaine des achats">
		       			<p:fieldset legend="Dossier" style="margin-bottom:30px">
		       				<p:selectOneRadio value="#{core.bean().object.chaineAchatsDossier}"  layout="grid" columns="1">
					            <f:selectItem itemLabel="En attente" itemValue="EN_ATTENTE" />
					            <f:selectItem itemLabel="Saisie de dossier dans les ENTETES des documents d'achat" itemValue="ENTETES" />
					            <f:selectItem itemLabel="Saisie de dossier dans les LIGNES des documents d'achat" itemValue="LIGNES" />
					        </p:selectOneRadio>
		       			</p:fieldset>
		       			
		       			<p:fieldset legend="Saisi du code de Dossier"  style="margin-bottom:30px">
		       				<p:selectOneRadio value="#{core.bean().object.chaineAchatsSaisieCodeDossier}"  layout="grid" columns="2">
					            <f:selectItem itemLabel="Saisie à partir des Devis" itemValue="DEVIS" />
					            <f:selectItem itemLabel="Saisie à partir des B.C" itemValue="BC" />
					            <f:selectItem itemLabel="Saisie à partir des B.L" itemValue="BL" />
					            <f:selectItem itemLabel="Saisie à partir des Factures" itemValue="FACTURES" />
					        </p:selectOneRadio>
		       			</p:fieldset>
		       			
		       			<p:fieldset legend="Contrôle du code de Dossier">
		       				<p:selectOneRadio value="#{core.bean().object.chaineAchatsControleCodeDossier}"  layout="grid" columns="2">
					            <f:selectItem itemLabel="Contrôle à partir des Demandes de prix" itemValue="DEMANDES_DEVIS" />
					            <f:selectItem itemLabel="Contrôle à partir des B.C" itemValue="BC" />
					            <f:selectItem itemLabel="Contrôle à partir des B.R" itemValue="BR" />
					            <f:selectItem itemLabel="Contrôle à partir des Factures" itemValue="FACTURES" />
					        </p:selectOneRadio>
		       			</p:fieldset>
       				</p:tab>
       			</p:tabView>
       		</p:tab>
       	</p:tabView> 
      </div>
    </ui:define>  
    
	<ui:define name="actions">
		<p:commandButton value="Enregistrer" actionListener="#{core.bean().runAction('persist')}" update="mainForm" styleClass="ui-whiteBtn" />
		<p:button value="Retour" href="/design1/ui/#{core.bean().moduleName}/list" styleClass="ui-whiteBtn pull-right"/>
	</ui:define>
	
	<ui:define name="dialogs"> 
	</ui:define>
	
</ui:composition>
