<ui:composition 
	xmlns="http://www.w3.org/1999/xhtml" 
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core" 
	xmlns:h="http://java.sun.com/jsf/html" 
	xmlns:p="http://primefaces.org/ui"
	xmlns:pe="http://primefaces.org/ui/extensions" 
	xmlns:t="http://myfaces.apache.org/tomahawk" 
	xmlns:c="http://java.sun.com/jstl/core"
    template="/design1/_general/template.xhtml">
	
	<ui:include src="../_config.xhtml" />
	
    <ui:define name="head">        
        <script type="text/javascript">
            //<![CDATA[
                function handleMessage(facesmessage) {
                    facesmessage.severity = 'info';
                    
                    PF('growl').show([facesmessage]);
                }
            //]]> 
        </script>
    </ui:define>
	
    <ui:define name="implementation">
	  <div style="padding:30px">
       	<p:messages id="messages" /> 
       	<p:tabView scrollable="true">
       		<p:tab title="Généralités">
       			<p:panelGrid styleClass="no-border-table full-width panelTopAlign">
	        		<p:row>
	        			<p:column >
	        				<p:fieldset legend="Informations société" style="margin-bottom:20px">
	        					<h:panelGrid columns="2" cellpadding="5">
					       			<p:fileUpload fileUploadListener="#{core.bean().handleFileUpload}" mode="advanced"
			                     		update="@this,image" process="@this" auto="true" sizeLimit="100000" allowTypes="/(\.|\/)(gif|jpe?g|png)$/" value="choisir" />
			                     	<p:graphicImage id="image" name="images/societe/#{core.bean().object.imageSrc}" width="100" height="100"/>	
							        <h:outputLabel value="Raison sociale : *" />
							        <p:inputText id="raisonSociale"   
							               value="#{core.bean().object.raisonSociale}" required="true" label="Raison sociale :">  
							               <f:validateLength minimum="2" />  
							        </p:inputText>
							        <h:outputLabel value="Image : *" />
							        <p:inputText    
							               value="#{core.bean().object.imageSrc}" required="true" label="Image :">  
							        </p:inputText>
	        					</h:panelGrid>
					        </p:fieldset>
	        				<p:fieldset legend="Informations juridiques" style="margin-bottom:20px">
						        <h:panelGrid columns="2" cellpadding="5">
						            <h:outputLabel value="Statut : *" />
						            <p:inputText id="statut" value="#{core.bean().object.statut}" required="true" size="50">  
						               <f:validateLength minimum="10" />  
						           </p:inputText>
						           <h:outputLabel value="Capital" />
						           <p:inputText id="capital" value="#{core.bean().object.capital}" required="true" size="50">  
					           	   </p:inputText>
					           	   <h:outputLabel value="Patente : *" />
						           <p:inputText id="patente" value="#{core.bean().object.patente}" required="true" size="50">  
					           	   </p:inputText>
					           	   <h:outputLabel value="CNSS : *" />
						           <p:inputText id="cnss" value="#{core.bean().object.cnss}" required="true" size="50">  
					           	   </p:inputText>
						        </h:panelGrid>
						    </p:fieldset>
	        			</p:column>
	        			<p:column>
	        				<p:fieldset legend="Adresse" style="margin-bottom:20px">
						        <h:panelGrid columns="2" cellpadding="5">
						            <h:outputLabel value=" Adresse : *" />
						            <p:inputText id="adresseLigne1" value="#{core.bean().object.adresseLigne1}" required="true" size="50">  
						               <f:validateLength minimum="10" />  
						           </p:inputText>
						           <h:outputLabel value="" />
						           <p:inputText id="adresseLigne2" value="#{core.bean().object.adresseLigne2}" size="50">  
					           	   </p:inputText>
					           	   <h:outputLabel value="Code postal : *" />
						           <p:inputText id="codePostal" value="#{core.bean().object.codePostal}" required="true" size="50">
					           	   </p:inputText>
					           	   <h:outputLabel value="" />
					           	   <h:panelGrid columns="2">
						           	   <p:inputText id="pays" value="#{core.bean().object.pays}" required="true" size="21">  
						               		
						           	   </p:inputText>
						           	   <p:inputText id="ville" value="#{core.bean().object.ville}" required="true" size="21">  
						               		  
						           	   </p:inputText>
					           	   </h:panelGrid>
					           	   <h:outputLabel value="Téléphone : *" />
						           <p:inputText id="telephone" value="#{core.bean().object.telephone}" required="true" size="50">  
					               		<f:validateLength minimum="10" />  
					           	   </p:inputText>
					           	   <h:outputLabel value="Fax : *" />
						           <p:inputText id="fax" value="#{core.bean().object.fax}" required="true" size="50">  
					               		<f:validateLength minimum="10" />  
					           	   </p:inputText>
					           	   <h:outputLabel value="Mobile : *" />
						           <p:inputText id="mobile" value="#{core.bean().object.mobile}" required="true" size="50">  
					           	   </p:inputText>
					           	   <h:outputLabel value="Email : *" />
						           <p:inputText id="email" value="#{core.bean().object.email}" required="true" size="50">  
					               		<f:validateLength minimum="6" />  
					           	   </p:inputText>
					           	   <h:outputLabel value="Siteweb : *" />
						           <p:inputText id="siteweb" value="#{core.bean().object.siteweb}" required="true" size="50">  
					               		<f:validateLength minimum="6" />  
					           	   </p:inputText>
						        </h:panelGrid>
						    </p:fieldset>
	        			</p:column>
	        		</p:row>			        			      
	       		</p:panelGrid>	
       		</p:tab>
       		<p:tab title="Options">
       		</p:tab>
       	</p:tabView> 
      </div>
    </ui:define>  
    
	<ui:define name="actions">
		<p:commandButton value="Enregistrer" actionListener="#{core.bean().runAction('persist')}" update="mainForm" styleClass="ui-whiteBtn" />
		<p:button value="Retour" href="/design1/ui/#{core.bean().moduleName}/list" styleClass="ui-whiteBtn pull-right"/>
	</ui:define>
	
	<ui:define name="dialogs"> 
	</ui:define>
	
</ui:composition>
